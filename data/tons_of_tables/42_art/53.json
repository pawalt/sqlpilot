[
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE book_reviews (\n    review_id INT PRIMARY KEY,\n    book_id INT,\n    user_id INT,\n    review_text TEXT,\n    rating FLOAT\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE book_reviews (\n    review_id UUID PRIMARY KEY,\n    book_title VARCHAR(255),\n    user_id UUID,\n    review_text TEXT,\n    rating INTEGER\n);"
      },
      {
        "table_schema": "CREATE TABLE user_ratings (\n    rating_id UUID PRIMARY KEY,\n    book_id UUID,\n    user_id UUID,\n    rating INTEGER\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE books (\n  book_id INT PRIMARY KEY,\n  title VARCHAR(255) NOT NULL,\n  author VARCHAR(255) NOT NULL,\n  published_year INT\n);"
      },
      {
        "table_schema": "CREATE TABLE reviews (\n  review_id INT PRIMARY KEY,\n  book_id INT,\n  user_id INT,\n  rating INT,\n  review_text TEXT,\n  FOREIGN KEY (book_id) REFERENCES books(book_id)\n);"
      },
      {
        "table_schema": "CREATE TABLE users (\n  user_id INT PRIMARY KEY,\n  name VARCHAR(255) NOT NULL,\n  email VARCHAR(255) UNIQUE\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE book ( id INT PRIMARY KEY, title TEXT NOT NULL, author TEXT NOT NULL, publication_year INT );"
      },
      {
        "table_schema": "CREATE TABLE user ( id INT PRIMARY KEY, username TEXT NOT NULL, email TEXT NOT NULL UNIQUE, age INT CHECK (age >= 18) );"
      },
      {
        "table_schema": "CREATE TABLE review ( id INT PRIMARY KEY, book_id INT REFERENCES book(id), user_id INT REFERENCES user(id), rating INT CHECK (rating >= 1 AND rating <= 5), comment TEXT, review_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP );"
      },
      {
        "table_schema": "CREATE TABLE rating ( id INT PRIMARY KEY, book_id INT REFERENCES book(id), user_id INT REFERENCES user(id), rating INT CHECK (rating >= 1 AND rating <= 10) );"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE books (\n    book_id INT PRIMARY KEY,\n    title VARCHAR(255),\n    author VARCHAR(255),\n    year_published INT\n)"
      },
      {
        "table_schema": "CREATE TABLE reviews (\n    review_id INT PRIMARY KEY,\n    book_id INT,\n    user_id INT,\n    rating FLOAT,\n    review_text TEXT,\n    FOREIGN KEY (book_id) REFERENCES books(book_id)\n)"
      },
      {
        "table_schema": "CREATE TABLE users (\n    user_id INT PRIMARY KEY,\n    username VARCHAR(255)\n)"
      },
      {
        "table_schema": "CREATE TABLE genres (\n    genre_id INT PRIMARY KEY,\n    genre_name VARCHAR(255)\n)"
      },
      {
        "table_schema": "CREATE TABLE book_genres (\n    book_id INT,\n    genre_id INT,\n    PRIMARY KEY (book_id, genre_id),\n    FOREIGN KEY (book_id) REFERENCES books(book_id),\n    FOREIGN KEY (genre_id) REFERENCES genres(genre_id)\n)"
      }
    ]
  }
]