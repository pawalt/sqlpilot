[
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE wine_preferences (\n    customer_id UUID PRIMARY KEY,\n    name VARCHAR(255),\n    email VARCHAR(255),\n    past_purchases JSONB,\n    wine_ratings JSONB\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE customer_preferences ( customer_id INT PRIMARY KEY, preference_1 VARCHAR(255), preference_2 VARCHAR(255), preference_3 VARCHAR(255), UNIQUE(customer_id) );"
      },
      {
        "table_schema": "CREATE TABLE wine_ratings ( rating_id INT PRIMARY KEY, rating_value DECIMAL(5,2), customer_id INT, wine_id INT, FOREIGN KEY (customer_id) REFERENCES customer_preferences(customer_id), FOREIGN KEY (wine_id) REFERENCES wines(wine_id) );"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE customer_preferences (\n  customer_id INT PRIMARY KEY,\n  wine_preference VARCHAR(255),\n  food_preference VARCHAR(255)\n);"
      },
      {
        "table_schema": "CREATE TABLE past_purchases (\n  purchase_id INT PRIMARY KEY,\n  customer_id INT,\n  purchase_date DATE,\n  wine_bottle_id INT,\n  quantity INT\n);"
      },
      {
        "table_schema": "CREATE TABLE wine_ratings (\n  rating_id INT PRIMARY KEY,\n  customer_id INT,\n  wine_bottle_id INT,\n  rating FLOAT,\n  review TEXT\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE customers (\n    customer_id INT PRIMARY KEY,\n    first_name VARCHAR(50),\n    last_name VARCHAR(50),\n    email VARCHAR(100)\n);\n"
      },
      {
        "table_schema": "CREATE TABLE purchases (\n    purchase_id INT PRIMARY KEY,\n    customer_id INT,\n    purchase_date DATE,\n    total_amount DECIMAL(10, 2),\n    FOREIGN KEY (customer_id) REFERENCES customers(customer_id)\n);\n"
      },
      {
        "table_schema": "CREATE TABLE wine_ratings (\n    rating_id INT PRIMARY KEY,\n    customer_id INT,\n    wine_id INT,\n    rating DECIMAL(2, 1),\n    FOREIGN KEY (customer_id) REFERENCES customers(customer_id),\n    FOREIGN KEY (wine_id) REFERENCES wines(wine_id)\n);\n"
      },
      {
        "table_schema": "CREATE TABLE wines (\n    wine_id INT PRIMARY KEY,\n    wine_name VARCHAR(100),\n    grape_variety VARCHAR(50),\n    region VARCHAR(50),\n    year INT\n);\n"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE customers (\n    customer_id INT PRIMARY KEY,\n    customer_name VARCHAR(255),\n    customer_email VARCHAR(255),\n    customer_age INT\n);"
      },
      {
        "table_schema": "CREATE TABLE preferences (\n    preference_id INT PRIMARY KEY,\n    customer_id INT,\n    preferred_wine_type VARCHAR(255),\n    preferred_region VARCHAR(255),\n    CONSTRAINT fk_customer_id FOREIGN KEY (customer_id) REFERENCES customers(customer_id)\n);"
      },
      {
        "table_schema": "CREATE TABLE purchases (\n    purchase_id INT PRIMARY KEY,\n    customer_id INT,\n    purchase_date DATE,\n    wine_bottle_id INT,\n    quantity INT,\n    total_amount DECIMAL(10, 2),\n    CONSTRAINT fk_customer_id FOREIGN KEY (customer_id) REFERENCES customers(customer_id)\n);"
      },
      {
        "table_schema": "CREATE TABLE ratings (\n    rating_id INT PRIMARY KEY,\n    customer_id INT,\n    wine_bottle_id INT,\n    rating INT,\n    CONSTRAINT fk_customer_id FOREIGN KEY (customer_id) REFERENCES customers(customer_id)\n);"
      },
      {
        "table_schema": "CREATE TABLE wines (\n    wine_id INT PRIMARY KEY,\n    wine_name VARCHAR(255),\n    wine_type VARCHAR(255),\n    region VARCHAR(255),\n    price DECIMAL(10, 2)\n);"
      }
    ]
  }
]