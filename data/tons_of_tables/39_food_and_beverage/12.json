[
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE user_diet_preferences (\n  user_id UUID PRIMARY KEY,\n  name VARCHAR(50),\n  age INT,\n  gender VARCHAR(10),\n  dietary_preferences JSONB,\n  allergies JSONB\n)"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE users (\n    user_id UUID PRIMARY KEY,\n    username STRING,\n    dietary_preferences STRING[],\n    allergies STRING[]\n)"
      },
      {
        "table_schema": "CREATE TABLE recipes (\n    recipe_id UUID PRIMARY KEY,\n    recipe_name STRING,\n    ingredients STRING[],\n    instructions STRING[]\n)"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE UserPreferences (\n\tuser_id INT,\n\tdietary_preference VARCHAR(50),\n\tallergies VARCHAR(100));"
      },
      {
        "table_schema": "CREATE TABLE Recipes (\n\trecipe_id INT,\n\trecipe_name VARCHAR(100),\n\tdietary_information VARCHAR(100),\n\tingredients TEXT);"
      },
      {
        "table_schema": "CREATE TABLE UserRecipes (\n\tuser_id INT,\n\trecipe_id INT\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE users (\n  user_id UUID PRIMARY KEY,\n  username VARCHAR(255) NOT NULL,\n  dietary_preference VARCHAR(50),\n  allergies VARCHAR(100)\n);"
      },
      {
        "table_schema": "CREATE TABLE recipes (\n  recipe_id UUID PRIMARY KEY,\n  recipe_name VARCHAR(255) NOT NULL,\n  ingredients JSONB,\n  instructions TEXT\n);"
      },
      {
        "table_schema": "CREATE TABLE user_preferences (\n  user_id UUID,\n  recipe_id UUID,\n  rating INTEGER,\n  CONSTRAINT fk_user_id FOREIGN KEY (user_id) REFERENCES users(user_id),\n  CONSTRAINT fk_recipe_id FOREIGN KEY (recipe_id) REFERENCES recipes(recipe_id),\n  PRIMARY KEY (user_id, recipe_id)\n);"
      },
      {
        "table_schema": "CREATE TABLE allergies (\n  allergy_id UUID PRIMARY KEY,\n  allergen_name VARCHAR(100) NOT NULL\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE users(\n  user_id UUID PRIMARY KEY,\n  username VARCHAR(50) NOT NULL,\n  age INT,\n  gender VARCHAR(10),\n  dietary_preference VARCHAR(50),\n  allergies TEXT\n)"
      },
      {
        "table_schema": "CREATE TABLE recipes(\n  recipe_id UUID PRIMARY KEY,\n  recipe_name VARCHAR(100) NOT NULL,\n  cuisine_type VARCHAR(50),\n  ingredients TEXT,\n  instructions TEXT\n)"
      },
      {
        "table_schema": "CREATE TABLE user_preferences(\n  user_id UUID,\n  preference_id SERIAL PRIMARY KEY,\n  preference_name VARCHAR(50) NOT NULL,\n  FOREIGN KEY (user_id) REFERENCES users (user_id)\n)"
      },
      {
        "table_schema": "CREATE TABLE recipe_ratings(\n  recipe_id UUID,\n  user_id UUID,\n  rating INT,\n  review TEXT,\n  PRIMARY KEY (recipe_id, user_id),\n  FOREIGN KEY (recipe_id) REFERENCES recipes (recipe_id),\n  FOREIGN KEY (user_id) REFERENCES users (user_id)\n)"
      },
      {
        "table_schema": "CREATE TABLE user_allergies(\n  user_id UUID,\n  allergy_id SERIAL PRIMARY KEY,\n  allergy_name VARCHAR(50) NOT NULL,\n  FOREIGN KEY (user_id) REFERENCES users (user_id)\n)"
      }
    ]
  }
]