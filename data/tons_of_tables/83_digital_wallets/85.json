[
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE transaction_fees (\n  id INT PRIMARY KEY,\n  transfer_amount DECIMAL,\n  fee_rate DECIMAL,\n  min_fee DECIMAL,\n  max_fee DECIMAL\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE transactions (\n  transaction_id INT PRIMARY KEY,\n  amount DECIMAL,\n  fee DECIMAL\n);"
      },
      {
        "table_schema": "CREATE TABLE fee_rules (\n  rule_id INT PRIMARY KEY,\n  min_amount DECIMAL,\n  max_amount DECIMAL,\n  fee_percentage DECIMAL\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE transactions (\n    transaction_id INT PRIMARY KEY,\n    transfer_amount DECIMAL,\n    fee DECIMAL,\n    transaction_date TIMESTAMP\n);"
      },
      {
        "table_schema": "CREATE TABLE fee_rules (\n    rule_id INT PRIMARY KEY,\n    minimum_amount DECIMAL,\n    maximum_amount DECIMAL,\n    fee_percentage DECIMAL\n);"
      },
      {
        "table_schema": "CREATE TABLE transaction_fees (\n    fee_id INT PRIMARY KEY,\n    transaction_id INT,\n    rule_id INT,\n    calculated_fee DECIMAL\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE TransferRules (\n  rule_id INT PRIMARY KEY,\n  min_amount DECIMAL,\n  max_amount DECIMAL,\n  fee_rate DECIMAL\n);\n"
      },
      {
        "table_schema": "CREATE TABLE Transactions (\n  transaction_id INT PRIMARY KEY,\n  transfer_id INT,\n  amount DECIMAL,\n  fee_amount DECIMAL,\n  FOREIGN KEY (transfer_id) REFERENCES Transfers(transfer_id)\n);\n"
      },
      {
        "table_schema": "CREATE TABLE Transfers (\n  transfer_id INT PRIMARY KEY,\n  sender_id INT,\n  receiver_id INT,\n  FOREIGN KEY (sender_id) REFERENCES Accounts(account_id),\n  FOREIGN KEY (receiver_id) REFERENCES Accounts(account_id)\n);\n"
      },
      {
        "table_schema": "CREATE TABLE Accounts (\n  account_id INT PRIMARY KEY,\n  account_name TEXT\n);\n"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE Transaction { \n  id UUID PRIMARY KEY, \n  amount FLOAT NOT NULL, \n  fee FLOAT NOT NULL, \n  created_at TIMESTAMP NOT NULL, \n  updated_at TIMESTAMP NOT NULL\n}"
      },
      {
        "table_schema": "CREATE TABLE User { \n  id UUID PRIMARY KEY, \n  name VARCHAR(255) NOT NULL, \n  email VARCHAR(255) NOT NULL UNIQUE, \n  balance FLOAT NOT NULL\n}"
      },
      {
        "table_schema": "CREATE TABLE FeeRule { \n  id UUID PRIMARY KEY, \n  min_amount FLOAT NOT NULL, \n  max_amount FLOAT NOT NULL, \n  fee_percentage FLOAT NOT NULL\n}"
      },
      {
        "table_schema": "CREATE TABLE TransactionType { \n  id UUID PRIMARY KEY, \n  type VARCHAR(255) NOT NULL\n}"
      },
      {
        "table_schema": "CREATE TABLE FeeHistory { \n  id UUID PRIMARY KEY, \n  transaction_id UUID REFERENCES Transaction(id), \n  fee_rule_id UUID REFERENCES FeeRule(id)\n}"
      }
    ]
  }
]