[
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE unsubscribe_requests (\n  id INT PRIMARY KEY,\n  email VARCHAR(255) NOT NULL,\n  request_date TIMESTAMP NOT NULL,\n  reason TEXT\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE unsubscribe_requests (\n  request_id INT PRIMARY KEY,\n  email VARCHAR(255) NOT NULL,\n  reason TEXT,\n  timestamp TIMESTAMP\n);\n"
      },
      {
        "table_schema": "CREATE TABLE opt_out_reasons (\n  reason_id INT PRIMARY KEY,\n  reason_name VARCHAR(50) NOT NULL\n);\n"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE unsubscribe_requests (\n  request_id INT PRIMARY KEY,\n  user_id INT,\n  email VARCHAR(255),\n  reason TEXT,\n  timestamp TIMESTAMP\n)"
      },
      {
        "table_schema": "CREATE TABLE users (\n  user_id INT PRIMARY KEY,\n  first_name VARCHAR(50),\n  last_name VARCHAR(50),\n  email VARCHAR(255) UNIQUE,\n  phone_number VARCHAR(15)\n)"
      },
      {
        "table_schema": "CREATE TABLE opt_out_logs (\n  log_id INT PRIMARY KEY,\n  user_id INT,\n  email VARCHAR(255),\n  reason TEXT,\n  timestamp TIMESTAMP\n)"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE unsubscribe_requests (\n  request_id UUID PRIMARY KEY,\n  user_id UUID,\n  email_address VARCHAR(255) NOT NULL,\n  reason TEXT,\n  request_date TIMESTAMP\n);"
      },
      {
        "table_schema": "CREATE TABLE opt_out_history (\n  entry_id SERIAL PRIMARY KEY,\n  request_id UUID,\n  opt_out_date TIMESTAMP,\n  opt_out_source VARCHAR(50)\n);"
      },
      {
        "table_schema": "CREATE TABLE unsubscribe_users (\n  user_id UUID PRIMARY KEY,\n  first_name VARCHAR(50),\n  last_name VARCHAR(50),\n  email_address VARCHAR(255) NOT NULL UNIQUE,\n  registration_date TIMESTAMP\n);"
      },
      {
        "table_schema": "CREATE TABLE compliance_records (\n  record_id SERIAL PRIMARY KEY,\n  user_id UUID,\n  action_type VARCHAR(20),\n  action_date TIMESTAMP\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE unsubscribe_requests (\n    id INT PRIMARY KEY,\n    email VARCHAR(255) NOT NULL,\n    reason TEXT,\n    created_at TIMESTAMP\n);"
      },
      {
        "table_schema": "CREATE TABLE opt_out_reasons (\n    id INT PRIMARY KEY,\n    reason_code VARCHAR(10) UNIQUE,\n    description TEXT\n);"
      },
      {
        "table_schema": "CREATE TABLE opt_out_sources (\n    id INT PRIMARY KEY,\n    source_name VARCHAR(50) UNIQUE,\n    description TEXT\n);"
      },
      {
        "table_schema": "CREATE TABLE opt_out_categories (\n    id INT PRIMARY KEY,\n    category_name VARCHAR(50) UNIQUE,\n    description TEXT\n);"
      },
      {
        "table_schema": "CREATE TABLE opt_out_logs (\n    id INT PRIMARY KEY,\n    request_id INT,\n    source_id INT,\n    category_id INT,\n    created_at TIMESTAMP,\n    FOREIGN KEY (request_id) REFERENCES unsubscribe_requests(id),\n    FOREIGN KEY (source_id) REFERENCES opt_out_sources(id),\n    FOREIGN KEY (category_id) REFERENCES opt_out_categories(id)\n);"
      }
    ]
  }
]