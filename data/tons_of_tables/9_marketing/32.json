[
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE email_segments (\n    segment_id INT PRIMARY KEY,\n    segment_name VARCHAR(50) NOT NULL,\n    demographics_filter VARCHAR(100),\n    behaviors_filter VARCHAR(100),\n    engagement_filter VARCHAR(100)\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE email_subscribers (\n  subscriber_id INT PRIMARY KEY,\n  email_address VARCHAR(255) NOT NULL,\n  demographics JSONB,\n  engagement_level INT\n);\n\nCREATE TABLE subscriber_segments (\n  segment_id SERIAL PRIMARY KEY,\n  segment_name VARCHAR(50) NOT NULL,\n  criteria JSONB\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE segments_demographics (\n    segment_id INT PRIMARY KEY,\n    demographics_criteria VARCHAR(255) NOT NULL\n);"
      },
      {
        "table_schema": "CREATE TABLE segments_behaviors (\n    segment_id INT PRIMARY KEY,\n    behavior_criteria VARCHAR(255) NOT NULL\n);"
      },
      {
        "table_schema": "CREATE TABLE segments_engagement (\n    segment_id INT PRIMARY KEY,\n    engagement_level VARCHAR(50) NOT NULL\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE demographics_segments (\n  segment_id INT PRIMARY KEY,\n  segment_name VARCHAR(255) NOT NULL,\n  demographic_criteria TEXT\n);\n"
      },
      {
        "table_schema": "CREATE TABLE behavior_segments (\n  segment_id INT PRIMARY KEY,\n  segment_name VARCHAR(255) NOT NULL,\n  behavior_criteria TEXT\n);\n"
      },
      {
        "table_schema": "CREATE TABLE engagement_segments (\n  segment_id INT PRIMARY KEY,\n  segment_name VARCHAR(255) NOT NULL,\n  engagement_criteria TEXT\n);\n"
      },
      {
        "table_schema": "CREATE TABLE subscriber_relations (\n  subscriber_id INT PRIMARY KEY,\n  segment_id INT NOT NULL,\n  FOREIGN KEY (segment_id) REFERENCES demographics_segments(segment_id),\n  email VARCHAR(255) NOT NULL,\n  subscription_date DATE\n);\n"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE subscriber_demographics (\n subscriber_id INT PRIMARY KEY,\n email_address VARCHAR(255) NOT NULL,\n age INT,\n gender VARCHAR(10),\n location VARCHAR(50)\n)"
      },
      {
        "table_schema": "CREATE TABLE subscriber_behaviors (\n subscriber_id INT PRIMARY KEY,\n email_address VARCHAR(255) NOT NULL,\n clicks INT,\n opens INT,\n subscriptions INT\n)"
      },
      {
        "table_schema": "CREATE TABLE subscriber_engagement (\n subscriber_id INT PRIMARY KEY,\n email_address VARCHAR(255) NOT NULL,\n last_engagement_date DATE,\n engagement_score INT\n)"
      },
      {
        "table_schema": "CREATE TABLE segment_demographics (\n segment_id INT PRIMARY KEY,\n segment_name VARCHAR(50) NOT NULL,\n description VARCHAR(255)\n)"
      },
      {
        "table_schema": "CREATE TABLE segment_behaviors (\n segment_id INT PRIMARY KEY,\n segment_name VARCHAR(50) NOT NULL,\n behavior_type VARCHAR(20),\n behavior_threshold INT\n)"
      }
    ]
  }
]