[
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE discount_codes (\n    code_id SERIAL PRIMARY KEY,\n    code_value VARCHAR(255) NOT NULL,\n    discount_amount DECIMAL(10, 2) NOT NULL\n)"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE discount_codes (\n    code_id UUID PRIMARY KEY,\n    discount_code VARCHAR(10) NOT NULL,\n    discount_amount DECIMAL NOT NULL\n);\n\nCREATE TABLE transactions (\n    transaction_id UUID PRIMARY KEY,\n    customer_id UUID NOT NULL,\n    total_amount DECIMAL NOT NULL,\n    discount_code_id UUID,\n    FOREIGN KEY (discount_code_id) REFERENCES discount_codes(code_id)\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE discount_codes(\n    code_id INT PRIMARY KEY,\n    code VARCHAR(255) NOT NULL,\n    discount_amount DECIMAL(10,2) NOT NULL\n);\n\nCREATE TABLE transactions(\n    transaction_id INT PRIMARY KEY,\n    amount DECIMAL(10,2) NOT NULL,\n    customer_id INT NOT NULL,\n    transaction_date TIMESTAMP NOT NULL\n);\n\nCREATE TABLE transaction_discounts(\n    transaction_id INT,\n    code_id INT,\n    FOREIGN KEY(transaction_id) REFERENCES transactions(transaction_id),\n    FOREIGN KEY(code_id) REFERENCES discount_codes(code_id)\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE discount_codes (\n\tcode_id INT PRIMARY KEY,\n\tcode VARCHAR(10) NOT NULL,\n\tdiscount_amount DECIMAL(10,2) NOT NULL\n);"
      },
      {
        "table_schema": "CREATE TABLE customers (\n\tcustomer_id INT PRIMARY KEY,\n\tcustomer_name VARCHAR(50) NOT NULL,\n\temail VARCHAR(50) NOT NULL,\n\tphone_number VARCHAR(20)\n);"
      },
      {
        "table_schema": "CREATE TABLE transactions (\n\ttransaction_id INT PRIMARY KEY,\n\tcustomer_id INT NOT NULL,\n\ttransaction_date DATE NOT NULL,\n\ttotal_amount DECIMAL(10,2) NOT NULL,\n\tFOREIGN KEY (customer_id) REFERENCES customers(customer_id)\n);"
      },
      {
        "table_schema": "CREATE TABLE applied_discounts (\n\tdiscount_id INT PRIMARY KEY,\n\ttransaction_id INT NOT NULL,\n\tcode_id INT NOT NULL,\n\tdiscount_amount_applied DECIMAL(10,2) NOT NULL,\n\tFOREIGN KEY (transaction_id) REFERENCES transactions(transaction_id),\n\tFOREIGN KEY (code_id) REFERENCES discount_codes(code_id)\n);"
      }
    ]
  },
  {
    "tables": [
      {
        "table_schema": "CREATE TABLE discount_codes (\n    code_id UUID PRIMARY KEY,\n    code VARCHAR(50) NOT NULL,\n    discount_amount DECIMAL NOT NULL\n);"
      },
      {
        "table_schema": "CREATE TABLE transactions (\n    transaction_id UUID PRIMARY KEY,\n    customer_id UUID NOT NULL,\n    total_amount DECIMAL NOT NULL,\n    discount_applied BOOLEAN DEFAULT false\n);"
      },
      {
        "table_schema": "CREATE TABLE customers (\n    customer_id UUID PRIMARY KEY,\n    name VARCHAR(100) NOT NULL,\n    email VARCHAR(100) NOT NULL\n);"
      },
      {
        "table_schema": "CREATE TABLE transactions_discounts (\n    transaction_id UUID,\n    code_id UUID,\n    FOREIGN KEY (transaction_id) REFERENCES transactions(transaction_id),\n    FOREIGN KEY (code_id) REFERENCES discount_codes(code_id)\n);"
      },
      {
        "table_schema": "CREATE TABLE customers_discounts (\n    customer_id UUID,\n    code_id UUID,\n    FOREIGN KEY (customer_id) REFERENCES customers(customer_id),\n    FOREIGN KEY (code_id) REFERENCES discount_codes(code_id)\n);"
      }
    ]
  }
]